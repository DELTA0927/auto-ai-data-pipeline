AI 학습용 자동 데이터 파이프라인 (Automated AI Data Pipeline)
개요

이 프로젝트는 특정 주제를 입력하면 관련 웹 데이터를 자동으로 수집·정제·라벨링·요약하여 AI 학습에 직접 활용할 수 있는 구조화된 JSON 데이터셋을 만드는 자동화 파이프라인입니다.
핵심은 사람이 직접 자료를 수집하고 정리하는 과정을 최소화하고, 주제별 데이터셋을 자동으로 확보하는 것입니다.

특징

자동화: 주제 입력 → 크롤링 → 정제 → 요약 → JSON 변환까지 전 과정 자동 처리

문맥 유지 요약: 긴 텍스트를 청크 단위로 나누고, 이전 요약·핵심 엔티티를 함께 전달해 일관성 있는 결과 생성

라벨링: 소규모 학습 데이터 또는 규칙 기반 라벨링으로 카테고리 부여

중간 데이터 저장: 크롤링 및 정제된 텍스트를 JSON Lines(.jsonl)로 저장해 재실행 시 활용 가능

최종 데이터셋: 계층적 라벨링 구조 + 요약 JSON 형식으로 결과 저장

파이프라인 단계

주제 입력 및 키워드 계획

사용자가 “전쟁에 대해 정제해줘”와 같이 주제를 지정

하위 토픽(개념, 원인, 주요 사건, 현대 사례 등)을 자동 생성

데이터 수집 (Web Crawling)

주제·토픽별 검색 쿼리를 생성해 위키, 학술, 뉴스 등 사이트에서 본문 수집

robots.txt 준수 및 요청 지연 적용

본문 추출 및 정제

HTML 태그, 광고, 중복 문단 제거

텍스트를 토큰 단위로 분할(오버랩 포함)

라벨링 및 주제 매핑

문단을 토픽별로 자동 분류

필요 시 간단한 분류 모델로 라벨 자동 부여

상태 전달 기반 요약

각 청크 요약 시 직전 요약과 핵심 엔티티를 함께 입력

GPT 계열 모델이 맥락을 유지한 요약 생성

최종 통합 (Reduce 단계)

토픽별 요약을 병합해 일관된 최종 요약 생성

JSON 구조로 결과 저장

사용 예시: 전쟁(주제)

입력: 전쟁에 대해 정제해줘
자동 처리 과정:

하위 토픽 생성: 개념, 원인, 주요 전쟁, 현대 사례, 재발 가능성

크롤링: Wikipedia, 나무위키, UN 보고서, 주요 언론 기사 수집

정제: 불필요한 요소 제거, 중복 문장 필터링

요약: 각 토픽별 요약 생성 → 최종 병합
출력(JSON 예시):
{
  "topic": "전쟁",
  "generated_at": "2025-08-20T00:00:00+09:00",
  "subtopics": [
    {
      "name": "개념",
      "summary": "국가나 집단 간의 조직적 무력 충돌로 정의되며...",
      "sources": ["https://ko.wikipedia.org/..."]
    },
    {
      "name": "원인",
      "summary": "안보 딜레마, 국내 정치적 요인, 오판 등이 주요 원인...",
      "sources": ["https://un.org/..."]
    },
    {
      "name": "주요 전쟁",
      "timeline": [
        {"event": "제1차 세계대전", "when": "1914-1918", "impact": "유럽 질서 재편"},
        {"event": "제2차 세계대전", "when": "1939-1945", "impact": "UN 창설, 냉전 시작"}
      ]
    },
    {
      "name": "현대 사례",
      "cases":[{"name":"우크라이나 전쟁","summary":"러시아의 침공으로 시작된 현대 분쟁","refs":["..."]}]
    },
    {
      "name": "재발 가능성",
      "signals": ["군비 경쟁","동맹 얽힘","경제 위기"]
    }
  ]
}
이 정의 버전은 개요·특징·단계 중심으로 단순화했고, **예시 시나리오(전쟁 주제 자동 처리)**를 포함했습니다.